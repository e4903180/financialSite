{"ast":null,"code":"import _toConsumableArray from \"/home/cosbi/financialSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/cosbi/financialSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/cosbi/financialSite/frontend/src/component/chooseTickerPage/chooseTikcerComp.js\";\nimport { Alert, Snackbar } from '@mui/material';\nimport React, { createContext, useState } from 'react';\nimport AnalysisComp from './analysisComp';\nimport CurrentConditionComp from './currentConditionComp';\nexport var ConditionsContext = createContext();\n\nfunction ChooseTickerComp() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      conditions = _useState2[0],\n      setConditions = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      message = _useState6[0],\n      setMessage = _useState6[1];\n\n  var handleConditionsAdd = function handleConditionsAdd(newItem) {\n    if (conditions.length >= 3) {\n      setOpen(true);\n      setMessage(\"篩選條件不能超過3個\");\n      return;\n    }\n\n    if (conditions.includes(newItem)) {\n      setOpen(true);\n      setMessage(\"此條件已經選取過\");\n    } else {\n      conditions.push(newItem); // this caused a re-render because it is a new object\n\n      setConditions(_toConsumableArray(conditions));\n    }\n\n    ;\n  };\n\n  var handleConditionsRemove = function handleConditionsRemove(newItem) {\n    if (conditions.includes(newItem)) {\n      conditions.splice(conditions.indexOf(newItem), 1); // this caused a re-render because it is a new object\n\n      setConditions(_toConsumableArray(conditions));\n    }\n  };\n\n  var handleClose = function handleClose(event, reason) {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Snackbar, {\n    open: open,\n    autoHideDuration: 3000,\n    onClose: handleClose,\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: handleClose,\n    severity: \"error\",\n    sx: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, message)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mx-auto py-3\",\n    style: {\n      width: \"50vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"display-6 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"\\u9078\\u80A1\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mx-auto\",\n    style: {\n      width: \"60vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ConditionsContext.Provider, {\n    value: {\n      conditions: conditions,\n      handleConditionsAdd: handleConditionsAdd,\n      handleConditionsRemove: handleConditionsRemove\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AnalysisComp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(CurrentConditionComp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default ChooseTickerComp;","map":{"version":3,"sources":["/home/cosbi/financialSite/frontend/src/component/chooseTickerPage/chooseTikcerComp.js"],"names":["Alert","Snackbar","React","createContext","useState","AnalysisComp","CurrentConditionComp","ConditionsContext","ChooseTickerComp","conditions","setConditions","open","setOpen","message","setMessage","handleConditionsAdd","newItem","length","includes","push","handleConditionsRemove","splice","indexOf","handleClose","event","reason","vertical","horizontal","width"],"mappings":"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","sourcesContent":["import { Alert, Snackbar } from '@mui/material';\nimport React, { createContext, useState } from 'react';\nimport AnalysisComp from './analysisComp';\nimport CurrentConditionComp from './currentConditionComp';\nexport const ConditionsContext = createContext();\n\nfunction ChooseTickerComp() {\n    const [conditions, setConditions] = useState([])\n    const [open, setOpen] = useState(false)\n    const [message, setMessage] = useState(\"\")\n\n    const handleConditionsAdd = (newItem) => {\n        if(conditions.length >= 3){\n            setOpen(true)\n            setMessage(\"篩選條件不能超過3個\")\n            return\n        }\n        \n        if(conditions.includes(newItem)){\n            setOpen(true)\n            setMessage(\"此條件已經選取過\")\n        }else{\n            conditions.push(newItem)\n            // this caused a re-render because it is a new object\n            setConditions([...conditions])\n        };\n    }\n\n    const handleConditionsRemove = (newItem) => {\n        if(conditions.includes(newItem)){\n            conditions.splice(conditions.indexOf(newItem), 1)\n            // this caused a re-render because it is a new object\n            setConditions([...conditions])\n        }\n    }\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n          return;\n        }\n    \n        setOpen(false);\n    };\n\n    return (\n        <>\n            <Snackbar open = { open } autoHideDuration = { 3000 } onClose = { handleClose } anchorOrigin = {{ vertical : \"top\", horizontal : \"center\" }}>\n                <Alert onClose = { handleClose } severity = \"error\" sx = {{ width: '100%' }}>\n                    { message }\n                </Alert>\n            </Snackbar>\n\n            <div className = 'row mx-auto py-3' style = {{ width : \"50vw\" }}>\n                <h3 className = \"display-6 text-center\">選股</h3>\n            </div>\n\n            <div className = 'row mx-auto' style = {{ width : \"60vw\" }}>\n                <ConditionsContext.Provider value = {{conditions, handleConditionsAdd, handleConditionsRemove}}>\n                    <AnalysisComp/>\n                    <CurrentConditionComp />\n                </ConditionsContext.Provider>\n            </div>\n        </>\n    );\n}\n\nexport default ChooseTickerComp;"]},"metadata":{},"sourceType":"module"}