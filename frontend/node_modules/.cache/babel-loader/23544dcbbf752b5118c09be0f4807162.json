{"ast":null,"code":"import _slicedToArray from \"/home/cosbi/financialSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/cosbi/financialSite/frontend/src/component/lineMemoPage/inputBlockComp.js\";\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\n\nfunction InputBlockComp() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      autocom = _useState2[0],\n      setAutocom = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setUsername = _useState4[1];\n\n  var Today = new Date();\n\n  function submit(e) {\n    e.preventDefault();\n\n    if (input1.length === 0) {\n      set_input1Validation(true);\n    } else {\n      set_input1Validation(false);\n      var formData = new FormData();\n      formData.append(\"stock_num_name\", input1[0].stock_num_name);\n      formData.append(\"date\", Today.getFullYear() + \"_\" + String(Today.getMonth() + 1).padStart(2, '0') + \"_\" + Today.getDate());\n      formData.append(\"recommend\", input2);\n      formData.append(\"price\", input3);\n      formData.append(\"reason\", input4);\n      formData.append(\"selectFile\", file);\n      formData.append(\"filename\", fileName);\n      axios.post(\"http://140.116.214.154:3000/api/data/upload/post_board_upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(function (res) {\n        alert(\"上傳成功\");\n      }).catch(function (res) {});\n    }\n  }\n\n  useEffect(function () {\n    axios.get(\"http://140.116.214.154:3000/api/data/autoCom\").then(function (res) {\n      setAutocom(res.data);\n    }).catch(function (res) {});\n    axios.get(\"http://140.116.214.154:3000/api/data/username\").then(function (res) {\n      setUsername(res.data);\n    }).catch(function (res) {});\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row mx-auto\",\n    onSubmit: submit,\n    noValidate: true,\n    style: {\n      width: \"70%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default InputBlockComp;","map":{"version":3,"sources":["/home/cosbi/financialSite/frontend/src/component/lineMemoPage/inputBlockComp.js"],"names":["axios","React","useEffect","useState","InputBlockComp","autocom","setAutocom","username","setUsername","Today","Date","submit","e","preventDefault","input1","length","set_input1Validation","formData","FormData","append","stock_num_name","getFullYear","String","getMonth","padStart","getDate","input2","input3","input4","file","fileName","post","headers","then","res","alert","catch","get","data","width"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;AAEA,SAASC,cAAT,GAA0B;AAAA,kBACQD,QAAQ,CAAC,EAAD,CADhB;AAAA;AAAA,MACfE,OADe;AAAA,MACNC,UADM;;AAAA,mBAEUH,QAAQ,CAAC,EAAD,CAFlB;AAAA;AAAA,MAEfI,QAFe;AAAA,MAELC,WAFK;;AAGtB,MAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;;AAEA,WAASC,MAAT,CAAgBC,CAAhB,EAAkB;AACdA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAGC,MAAM,CAACC,MAAP,KAAkB,CAArB,EAAuB;AACnBC,MAAAA,oBAAoB,CAAC,IAAD,CAApB;AACH,KAFD,MAEK;AACDA,MAAAA,oBAAoB,CAAC,KAAD,CAApB;AAEA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,gBAAhB,EAAkCL,MAAM,CAAC,CAAD,CAAN,CAAUM,cAA5C;AACAH,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBV,KAAK,CAACY,WAAN,KAAsB,GAAtB,GAA4BC,MAAM,CAACb,KAAK,CAACc,QAAN,KAAiB,CAAlB,CAAN,CAA2BC,QAA3B,CAAoC,CAApC,EAAuC,GAAvC,CAA5B,GAA0E,GAA1E,GAAgFf,KAAK,CAACgB,OAAN,EAAxG;AACAR,MAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6BO,MAA7B;AACAT,MAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBQ,MAAzB;AACAV,MAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BS,MAA1B;AACAX,MAAAA,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BU,IAA9B;AACAZ,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BW,QAA5B;AAGA9B,MAAAA,KAAK,CAAC+B,IAAN,CAAW,+DAAX,EAA4Ed,QAA5E,EAAsF;AAClFe,QAAAA,OAAO,EAAG;AAAE,0BAAgB;AAAlB;AADwE,OAAtF,EAEGC,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXC,QAAAA,KAAK,CAAC,MAAD,CAAL;AACH,OAJD,EAIGC,KAJH,CAIS,UAAAF,GAAG,EAAI,CAEf,CAND;AAOH;AACJ;;AAEDhC,EAAAA,SAAS,CAAC,YAAM;AACZF,IAAAA,KAAK,CAACqC,GAAN,CAAU,8CAAV,EACCJ,IADD,CACM,UAAAC,GAAG,EAAI;AACT5B,MAAAA,UAAU,CAAC4B,GAAG,CAACI,IAAL,CAAV;AACH,KAHD,EAGGF,KAHH,CAGS,UAAAF,GAAG,EAAI,CACf,CAJD;AAMAlC,IAAAA,KAAK,CAACqC,GAAN,CAAU,+CAAV,EACCJ,IADD,CACM,UAAAC,GAAG,EAAI;AACT1B,MAAAA,WAAW,CAAC0B,GAAG,CAACI,IAAL,CAAX;AACH,KAHD,EAGGF,KAHH,CAGS,UAAAF,GAAG,EAAI,CACf,CAJD;AAKH,GAZQ,EAYN,EAZM,CAAT;AAcA,sBACI,uDACI;AAAM,IAAA,SAAS,EAAG,aAAlB;AAAgC,IAAA,QAAQ,EAAKvB,MAA7C;AAAsD,IAAA,UAAU,MAAhE;AAAiE,IAAA,KAAK,EAAI;AAAE4B,MAAAA,KAAK,EAAG;AAAV,KAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAOH;;AAED,eAAenC,cAAf","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\n\nfunction InputBlockComp() {\n    const [autocom, setAutocom] = useState([])\n    const [username, setUsername] = useState(\"\")\n    var Today = new Date();\n\n    function submit(e){\n        e.preventDefault()\n\n        if(input1.length === 0){\n            set_input1Validation(true)\n        }else{\n            set_input1Validation(false)\n\n            const formData = new FormData();\n            formData.append(\"stock_num_name\", input1[0].stock_num_name);\n            formData.append(\"date\", Today.getFullYear() + \"_\" + String(Today.getMonth()+1).padStart(2, '0') + \"_\" + Today.getDate())\n            formData.append(\"recommend\", input2);\n            formData.append(\"price\", input3);\n            formData.append(\"reason\", input4);\n            formData.append(\"selectFile\", file);\n            formData.append(\"filename\", fileName);\n\n\n            axios.post(\"http://140.116.214.154:3000/api/data/upload/post_board_upload\", formData, {\n                headers : { \"Content-Type\": \"multipart/form-data\" }\n            }).then(res => {\n                alert(\"上傳成功\")\n            }).catch(res => {\n                \n            })\n        }\n    }\n\n    useEffect(() => {\n        axios.get(\"http://140.116.214.154:3000/api/data/autoCom\")\n        .then(res => {\n            setAutocom(res.data);\n        }).catch(res => {\n        })\n\n        axios.get(\"http://140.116.214.154:3000/api/data/username\")\n        .then(res => {\n            setUsername(res.data)\n        }).catch(res => {\n        })\n    }, [])\n\n    return (\n        <>\n            <form className = 'row mx-auto' onSubmit = { submit } noValidate style = {{ width : \"70%\" }}>\n                \n            </form>\n        </>\n    );\n}\n\nexport default InputBlockComp;"]},"metadata":{},"sourceType":"module"}