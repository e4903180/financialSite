{"ast":null,"code":"import _slicedToArray from \"/home/cosbi/financialSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/cosbi/financialSite/frontend/src/component/loginPage/registerItem.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { config } from '../../constant';\nimport Alert from '@mui/material/Alert';\n\nfunction RegisterItem() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      username = _useState4[0],\n      setUsername = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      password = _useState8[0],\n      setPassword = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      confirmPassword = _useState10[0],\n      setConfirmPassword = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      nameError = _useState12[0],\n      setNameError = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      usernameError = _useState14[0],\n      setUsernameError = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      emailError = _useState16[0],\n      setEmailError = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      passwordError = _useState18[0],\n      setPasswordError = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      confirmpasswordError = _useState20[0],\n      setConfirmpasswordError = _useState20[1];\n\n  var _useState21 = useState({\n    \"success\": false,\n    \"failure\": false\n  }),\n      _useState22 = _slicedToArray(_useState21, 2),\n      result = _useState22[0],\n      setResult = _useState22[1];\n\n  function nameChangeHandle(name) {\n    if (name.length > 20) {\n      setNameError(true);\n    } else {\n      setName(name);\n      setNameError(false);\n    }\n  }\n\n  function usernameChangeHandle(username) {\n    if (username.length > 20) {\n      setUsernameError(true);\n    } else {\n      setUsername(username);\n      setUsernameError(false);\n    }\n  }\n\n  function emailChangeHandle(email) {\n    var pattern = new RegExp(/^([A-Za-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{3,6})$/); //eslint-disable-line\n\n    if (pattern.test(email)) {\n      setEmail(email);\n      setEmailError(false);\n    } else {\n      setEmailError(true);\n    }\n\n    ;\n  }\n\n  ;\n\n  function passwordChangeHandle(password) {\n    var pattern = new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{6,15}$/); //eslint-disable-line\n\n    if (pattern.test(password)) {\n      if (password !== confirmPassword) {\n        setConfirmpasswordError(true);\n      } else {\n        setConfirmpasswordError(false);\n      }\n\n      ;\n      setPassword(password);\n      setPasswordError(false);\n    } else {\n      setPasswordError(true);\n    }\n\n    ;\n  }\n\n  ;\n\n  function confirmPasswordChangeHandle(confirmPassword) {\n    if (confirmPassword !== password) {\n      setConfirmpasswordError(true);\n    } else {\n      setConfirmPassword(confirmPassword);\n      setConfirmpasswordError(false);\n    }\n\n    ;\n  }\n\n  ;\n\n  function submit(e) {\n    e.preventDefault();\n    setRegisterSuccess(false);\n\n    if (emailError === false && passwordError === false && confirmpasswordError === false && nameError === false && usernameError === false && name !== \"\" && username !== \"\" && email !== \"\" && password !== \"\" && confirmPassword !== \"\") {\n      axios.post(config[\"rootApiIP\"] + \"/user/register\", {\n        name: name,\n        userName: username,\n        email: email,\n        password: password\n      }).then(function (res) {\n        setRegisterSuccess(true);\n      }).catch(function (err) {\n        setRegisterSuccess(false);\n\n        if (err.response.status === 401) {\n          alert(err.response.data);\n        } else {\n          alert(\"error\");\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row g-3 needs-validation px-4\",\n    onSubmit: submit,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center display-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"* \\u8868\\u793A\\u5FC5\\u586B\\u6B04\\u4F4D\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"\\u540D\\u5B57 \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 52\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"name\",\n    onChange: function onChange(event) {\n      return nameChangeHandle(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"\\u9577\\u5EA6\\u4E0D\\u80FD\\u8D85\\u904E20\"), nameError ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 39\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 64\n    }\n  }, \"Name is too long\"), \" \") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 125\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, \"\\u4F7F\\u7528\\u8005\\u540D\\u7A31 \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 58\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"account\",\n    onChange: function onChange(event) {\n      return usernameChangeHandle(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \"\\u9577\\u5EA6\\u4E0D\\u80FD\\u8D85\\u904E20\"), usernameError ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 43\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 68\n    }\n  }, \"username is too long\"), \" \") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 133\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, \"Email \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 56\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"email\",\n    onChange: function onChange(event) {\n      return emailChangeHandle(event.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }), emailError ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 40\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 65\n    }\n  }, \"Email format error\"), \" \") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 128\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, \"\\u5BC6\\u78BC \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 56\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"password\",\n    onChange: function onChange(event) {\n      return passwordChangeHandle(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, \"\\u5BC6\\u78BC\\u9577\\u5EA6\\u81F3\\u5C116\\u500B\\u5B57\\u5143 \\u6700\\u591A\\u4E0D\\u8D85\\u904E15\\u500B\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, \"\\u5BC6\\u78BC\\u5FC5\\u9808\\u5305\\u542B\\u81F3\\u5C11\\u4E00\\u500B\\u5927\\u5BEB\\u53CA\\u5C0F\\u5BEB\"), passwordError ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 43\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 68\n    }\n  }, \"\\u5BC6\\u78BC\\u683C\\u5F0F\\u932F\\u8AA4\"), \" \") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 119\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"confirmPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 25\n    }\n  }, \"\\u78BA\\u8A8D\\u5BC6\\u78BC \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 65\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"confirmPassword\",\n    onChange: function onChange(event) {\n      return confirmPasswordChangeHandle(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }), confirmpasswordError ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 50\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 75\n    }\n  }, \"\\u5BC6\\u78BC\\u53CA\\u78BA\\u8A8D\\u5BC6\\u78BC\\u4E0D\\u76F8\\u540C\"), \" \") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 130\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-grid py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, emailError === false && passwordError === false && confirmpasswordError === false && nameError === false && usernameError === false && name !== \"\" && username !== \"\" && email !== \"\" && password !== \"\" && confirmPassword !== \"\" ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, \"\\u8A3B\\u518A\") : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }, \"\\u8A3B\\u518A\"), result[\"success\"] ? /*#__PURE__*/React.createElement(Alert, {\n    severity: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 43\n    }\n  }, \"\\u8A3B\\u518A\\u6210\\u529F!\") : /*#__PURE__*/React.createElement(React.Fragment, null), result[\"failure\"] ? /*#__PURE__*/React.createElement(Alert, {\n    severity: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 43\n    }\n  }, \"\\u8A3B\\u518A\\u6210\\u529F!\") : /*#__PURE__*/React.createElement(React.Fragment, null))));\n}\n\nexport default RegisterItem;","map":{"version":3,"sources":["/home/cosbi/financialSite/frontend/src/component/loginPage/registerItem.js"],"names":["React","useState","axios","config","Alert","RegisterItem","name","setName","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","nameError","setNameError","usernameError","setUsernameError","emailError","setEmailError","passwordError","setPasswordError","confirmpasswordError","setConfirmpasswordError","result","setResult","nameChangeHandle","length","usernameChangeHandle","emailChangeHandle","pattern","RegExp","test","passwordChangeHandle","confirmPasswordChangeHandle","submit","e","preventDefault","setRegisterSuccess","post","userName","then","res","catch","err","response","status","alert","data","color","event","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;AAEA,SAASC,YAAT,GAAwB;AAAA,kBACIJ,QAAQ,CAAC,EAAD,CADZ;AAAA;AAAA,MACbK,IADa;AAAA,MACPC,OADO;;AAAA,mBAEYN,QAAQ,CAAC,EAAD,CAFpB;AAAA;AAAA,MAEbO,QAFa;AAAA,MAEHC,WAFG;;AAAA,mBAGMR,QAAQ,CAAC,EAAD,CAHd;AAAA;AAAA,MAGbS,KAHa;AAAA,MAGNC,QAHM;;AAAA,mBAIYV,QAAQ,CAAC,EAAD,CAJpB;AAAA;AAAA,MAIbW,QAJa;AAAA,MAIHC,WAJG;;AAAA,mBAK0BZ,QAAQ,CAAC,EAAD,CALlC;AAAA;AAAA,MAKba,eALa;AAAA,MAKIC,kBALJ;;AAAA,oBAOcd,QAAQ,CAAC,KAAD,CAPtB;AAAA;AAAA,MAObe,SAPa;AAAA,MAOFC,YAPE;;AAAA,oBAQsBhB,QAAQ,CAAC,KAAD,CAR9B;AAAA;AAAA,MAQbiB,aARa;AAAA,MAQEC,gBARF;;AAAA,oBASgBlB,QAAQ,CAAC,KAAD,CATxB;AAAA;AAAA,MASbmB,UATa;AAAA,MASDC,aATC;;AAAA,oBAUsBpB,QAAQ,CAAC,KAAD,CAV9B;AAAA;AAAA,MAUbqB,aAVa;AAAA,MAUEC,gBAVF;;AAAA,oBAWoCtB,QAAQ,CAAC,KAAD,CAX5C;AAAA;AAAA,MAWbuB,oBAXa;AAAA,MAWSC,uBAXT;;AAAA,oBAYQxB,QAAQ,CAAC;AACjC,eAAY,KADqB;AAEjC,eAAY;AAFqB,GAAD,CAZhB;AAAA;AAAA,MAYbyB,MAZa;AAAA,MAYLC,SAZK;;AAiBpB,WAASC,gBAAT,CAA0BtB,IAA1B,EAA+B;AAC3B,QAAGA,IAAI,CAACuB,MAAL,GAAc,EAAjB,EAAoB;AAChBZ,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACH,KAFD,MAEK;AACDV,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAW,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ;;AAED,WAASa,oBAAT,CAA8BtB,QAA9B,EAAuC;AACnC,QAAGA,QAAQ,CAACqB,MAAT,GAAkB,EAArB,EAAwB;AACpBV,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACH,KAFD,MAEK;AACDV,MAAAA,WAAW,CAACD,QAAD,CAAX;AACAW,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACH;AACJ;;AAED,WAASY,iBAAT,CAA2BrB,KAA3B,EAAiC;AAC7B,QAAIsB,OAAO,GAAG,IAAIC,MAAJ,CAAW,oDAAX,CAAd,CAD6B,CACkD;;AAE/E,QAAGD,OAAO,CAACE,IAAR,CAAaxB,KAAb,CAAH,EAAuB;AACnBC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAW,MAAAA,aAAa,CAAC,KAAD,CAAb;AACH,KAHD,MAGK;AACDA,MAAAA,aAAa,CAAC,IAAD,CAAb;AACH;;AAAA;AACJ;;AAAA;;AAED,WAASc,oBAAT,CAA8BvB,QAA9B,EAAuC;AACnC,QAAIoB,OAAO,GAAG,IAAIC,MAAJ,CAAW,kDAAX,CAAd,CADmC,CAC0C;;AAE7E,QAAGD,OAAO,CAACE,IAAR,CAAatB,QAAb,CAAH,EAA0B;AACtB,UAAGA,QAAQ,KAAKE,eAAhB,EAAgC;AAC5BW,QAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACH,OAFD,MAEK;AACDA,QAAAA,uBAAuB,CAAC,KAAD,CAAvB;AACH;;AAAA;AACDZ,MAAAA,WAAW,CAACD,QAAD,CAAX;AACAW,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACH,KARD,MAQK;AACDA,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACH;;AAAA;AACJ;;AAAA;;AAED,WAASa,2BAAT,CAAqCtB,eAArC,EAAqD;AACjD,QAAGA,eAAe,KAAKF,QAAvB,EAAgC;AAC5Ba,MAAAA,uBAAuB,CAAC,IAAD,CAAvB;AACH,KAFD,MAEK;AACDV,MAAAA,kBAAkB,CAACD,eAAD,CAAlB;AACAW,MAAAA,uBAAuB,CAAC,KAAD,CAAvB;AACH;;AAAA;AACJ;;AAAA;;AAED,WAASY,MAAT,CAAgBC,CAAhB,EAAkB;AACdA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,kBAAkB,CAAC,KAAD,CAAlB;;AAEA,QAAGpB,UAAU,KAAK,KAAf,IACCE,aAAa,KAAK,KADnB,IAECE,oBAAoB,KAAK,KAF1B,IAGCR,SAAS,KAAK,KAHf,IAICE,aAAa,KAAK,KAJnB,IAKCZ,IAAI,KAAK,EALV,IAMCE,QAAQ,KAAK,EANd,IAOCE,KAAK,KAAK,EAPX,IAQCE,QAAQ,KAAK,EARd,IASCE,eAAe,KAAK,EATxB,EAS2B;AACvBZ,MAAAA,KAAK,CAACuC,IAAN,CAAWtC,MAAM,CAAC,WAAD,CAAN,GAAsB,gBAAjC,EAAmD;AAC/CG,QAAAA,IAAI,EAAGA,IADwC;AAE/CoC,QAAAA,QAAQ,EAAGlC,QAFoC;AAG/CE,QAAAA,KAAK,EAAGA,KAHuC;AAI/CE,QAAAA,QAAQ,EAAGA;AAJoC,OAAnD,EAKG+B,IALH,CAKQ,UAAAC,GAAG,EAAI;AACXJ,QAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACH,OAPD,EAOGK,KAPH,CAOS,UAAAC,GAAG,EAAI;AACZN,QAAAA,kBAAkB,CAAC,KAAD,CAAlB;;AACA,YAAGM,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAA3B,EAA+B;AAC3BC,UAAAA,KAAK,CAACH,GAAG,CAACC,QAAJ,CAAaG,IAAd,CAAL;AACH,SAFD,MAEK;AACDD,UAAAA,KAAK,CAAC,OAAD,CAAL;AACH;AACJ,OAdD;AAeH;AACJ;;AAED,sBACI,uDACI;AAAM,IAAA,SAAS,EAAG,+BAAlB;AAAkD,IAAA,QAAQ,EAAKZ,MAA/D;AAAwE,IAAA,UAAU,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAG,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,eAKI;AAAK,IAAA,SAAS,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,KAAK,EAAI;AAAEc,MAAAA,KAAK,EAAG;AAAV,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADJ,eAEI;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA2B;AAAM,IAAA,KAAK,EAAI;AAAEA,MAAAA,KAAK,EAAG;AAAV,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA3B,CADJ,eAEI;AAAO,IAAA,IAAI,EAAG,MAAd;AAAqB,IAAA,SAAS,EAAG,cAAjC;AAAgD,IAAA,EAAE,EAAG,MAArD;AACI,IAAA,QAAQ,EAAK,kBAAAC,KAAK;AAAA,aAAIxB,gBAAgB,CAACwB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAApB;AAAA,KADtB;AACiE,IAAA,QAAQ,MADzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAII;AAAK,IAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAJJ,EAKMtC,SAAS,gBAAG;AAAK,IAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAyB;AAAG,IAAA,KAAK,EAAI;AAAEmC,MAAAA,KAAK,EAAG;AAAV,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAzB,MAAH,gBAAyF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALxG,CAFJ,CALJ,eAgBI;AAAK,IAAA,SAAS,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAG,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDAAiC;AAAM,IAAA,KAAK,EAAI;AAAEA,MAAAA,KAAK,EAAG;AAAV,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAjC,CADJ,eAEI;AAAO,IAAA,IAAI,EAAG,MAAd;AAAqB,IAAA,SAAS,EAAG,cAAjC;AAAgD,IAAA,EAAE,EAAG,SAArD;AACI,IAAA,QAAQ,EAAK,kBAAAC,KAAK;AAAA,aAAItB,oBAAoB,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxB;AAAA,KADtB;AACqE,IAAA,QAAQ,MAD7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAII;AAAK,IAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAJJ,EAKMpC,aAAa,gBAAG;AAAK,IAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAyB;AAAG,IAAA,KAAK,EAAI;AAAEiC,MAAAA,KAAK,EAAG;AAAV,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAzB,MAAH,gBAA6F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALhH,CADJ,CAhBJ,eA0BI;AAAK,IAAA,SAAS,EAAG,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAG,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA+B;AAAM,IAAA,KAAK,EAAI;AAAEA,MAAAA,KAAK,EAAG;AAAV,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA/B,CADJ,eAEI;AAAO,IAAA,IAAI,EAAG,MAAd;AAAqB,IAAA,SAAS,EAAG,cAAjC;AAAgD,IAAA,EAAE,EAAG,OAArD;AACI,IAAA,QAAQ,EAAK,kBAAAC,KAAK;AAAA,aAAIrB,iBAAiB,CAACqB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAArB;AAAA,KADtB;AACkE,IAAA,QAAQ,MAD1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAIMlC,UAAU,gBAAG;AAAK,IAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAyB;AAAG,IAAA,KAAK,EAAI;AAAE+B,MAAAA,KAAK,EAAG;AAAV,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAzB,MAAH,gBAA2F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJ3G,CADJ,CA1BJ,eAmCI;AAAK,IAAA,SAAS,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA+B;AAAM,IAAA,KAAK,EAAI;AAAEA,MAAAA,KAAK,EAAG;AAAV,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA/B,CADJ,eAEI;AAAO,IAAA,IAAI,EAAG,UAAd;AAAyB,IAAA,SAAS,EAAG,cAArC;AAAoD,IAAA,EAAE,EAAG,UAAzD;AACI,IAAA,QAAQ,EAAK,kBAAAC,KAAK;AAAA,aAAIjB,oBAAoB,CAACiB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxB;AAAA,KADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAII;AAAK,IAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sGAJJ,eAKI;AAAK,IAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kGALJ,EAMMhC,aAAa,gBAAG;AAAK,IAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAyB;AAAG,IAAA,KAAK,EAAI;AAAE6B,MAAAA,KAAK,EAAG;AAAV,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAAzB,MAAH,gBAA+E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANlG,CADJ,CAnCJ,eA8CI;AAAK,IAAA,SAAS,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAG,iBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAwC;AAAM,IAAA,KAAK,EAAI;AAAEA,MAAAA,KAAK,EAAG;AAAV,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAxC,CADJ,eAEI;AAAO,IAAA,IAAI,EAAG,UAAd;AAAyB,IAAA,SAAS,EAAG,cAArC;AAAoD,IAAA,EAAE,EAAG,iBAAzD;AACI,IAAA,QAAQ,EAAK,kBAAAC,KAAK;AAAA,aAAIhB,2BAA2B,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA/B;AAAA,KADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAIM9B,oBAAoB,gBAAG;AAAK,IAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAyB;AAAG,IAAA,KAAK,EAAI;AAAE2B,MAAAA,KAAK,EAAG;AAAV,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEAAzB,MAAH,gBAAmF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJ7G,CADJ,CA9CJ,eAuDI;AAAK,IAAA,SAAS,EAAG,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ/B,UAAU,KAAK,KAAf,IACAE,aAAa,KAAK,KADlB,IAEAE,oBAAoB,KAAK,KAFzB,IAGAR,SAAS,KAAK,KAHd,IAIAE,aAAa,KAAK,KAJlB,IAKAZ,IAAI,KAAK,EALT,IAMAE,QAAQ,KAAK,EANb,IAOAE,KAAK,KAAK,EAPV,IAQAE,QAAQ,KAAK,EARb,IASAE,eAAe,KAAK,EATpB,gBAUA;AAAQ,IAAA,IAAI,EAAG,QAAf;AAAwB,IAAA,SAAS,EAAG,iBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVA,gBAWA;AAAQ,IAAA,IAAI,EAAG,QAAf;AAAwB,IAAA,SAAS,EAAG,iBAApC;AAAsD,IAAA,QAAQ,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbR,EAeMY,MAAM,CAAC,SAAD,CAAN,gBAAoB,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAApB,gBAA8D,yCAfpE,EAgBMA,MAAM,CAAC,SAAD,CAAN,gBAAoB,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAApB,gBAA8D,yCAhBpE,CAvDJ,CADJ,CADJ;AA8EH;;AAED,eAAerB,YAAf","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { config } from '../../constant';\nimport Alert from '@mui/material/Alert';\n\nfunction RegisterItem() {\n    const [name, setName] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n    const [nameError, setNameError] = useState(false)\n    const [usernameError, setUsernameError] = useState(false)\n    const [emailError, setEmailError] = useState(false);\n    const [passwordError, setPasswordError] = useState(false);\n    const [confirmpasswordError, setConfirmpasswordError] = useState(false);\n    const [result, setResult] = useState({\n        \"success\" : false,\n        \"failure\" : false\n    })\n\n    function nameChangeHandle(name){\n        if(name.length > 20){\n            setNameError(true)\n        }else{\n            setName(name)\n            setNameError(false)\n        }\n    }\n\n    function usernameChangeHandle(username){\n        if(username.length > 20){\n            setUsernameError(true)\n        }else{\n            setUsername(username)\n            setUsernameError(false)\n        }\n    }\n\n    function emailChangeHandle(email){\n        var pattern = new RegExp(/^([A-Za-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{3,6})$/);//eslint-disable-line\n\n        if(pattern.test(email)){\n            setEmail(email)\n            setEmailError(false)\n        }else{\n            setEmailError(true)\n        };\n    };\n\n    function passwordChangeHandle(password){\n        var pattern = new RegExp(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{6,15}$/);//eslint-disable-line\n\n        if(pattern.test(password)){\n            if(password !== confirmPassword){\n                setConfirmpasswordError(true)\n            }else{\n                setConfirmpasswordError(false)\n            };\n            setPassword(password)\n            setPasswordError(false)\n        }else{\n            setPasswordError(true)\n        };\n    };\n\n    function confirmPasswordChangeHandle(confirmPassword){\n        if(confirmPassword !== password){\n            setConfirmpasswordError(true)\n        }else{\n            setConfirmPassword(confirmPassword)\n            setConfirmpasswordError(false)\n        };\n    };\n\n    function submit(e){\n        e.preventDefault()\n        setRegisterSuccess(false)\n\n        if(emailError === false && \n            passwordError === false && \n            confirmpasswordError === false && \n            nameError === false && \n            usernameError === false && \n            name !== \"\" && \n            username !== \"\" && \n            email !== \"\" && \n            password !== \"\" && \n            confirmPassword !== \"\"){\n            axios.post(config[\"rootApiIP\"] + \"/user/register\", {\n                name : name,\n                userName : username,\n                email : email,\n                password : password\n            }).then(res => {\n                setRegisterSuccess(true)\n            }).catch(err => {\n                setRegisterSuccess(false)\n                if(err.response.status === 401){\n                    alert(err.response.data)\n                }else{\n                    alert(\"error\")\n                }\n            });\n        }\n    }\n\n    return (\n        <>\n            <form className = \"row g-3 needs-validation px-4\" onSubmit = { submit } noValidate>\n                <div className = \"form-row\">\n                    <h2 className = \"text-center display-4\">Register</h2>\n                </div>\n\n                <div className = \"form-row\">\n                    <p style = {{ color : \"red\" }}>* 表示必填欄位</p>\n                    <div className = \"form-group\">\n                        <label htmlFor = \"name\">名字 <span style = {{ color : \"red\" }}>*</span></label>\n                        <input type = \"text\" className = \"form-control\" id = \"name\" \n                            onChange = { event => nameChangeHandle(event.target.value) } required/>\n                        <div className = \"form-text\">長度不能超過20</div>\n                        { nameError ? <div className = \"item\"> <p style = {{ color : \"red\" }}>Name is too long</p> </div> : <div></div> }\n                    </div>\n                </div>\n\n                <div className = \"form-row\">\n                    <div className = \"form-group\">\n                        <label htmlFor = \"account\">使用者名稱 <span style = {{ color : \"red\" }}>*</span></label>\n                        <input type = \"text\" className = \"form-control\" id = \"account\" \n                            onChange = { event => usernameChangeHandle(event.target.value) } required/>\n                        <div className = \"form-text\">長度不能超過20</div>\n                        { usernameError ? <div className = \"item\"> <p style = {{ color : \"red\" }}>username is too long</p> </div> : <div></div> }\n                    </div>\n                </div>\n\n                <div className = \"form-row py-1\">\n                    <div className = \"form-group\">\n                        <label htmlFor = \"email\">Email <span style = {{ color : \"red\" }}>*</span></label>\n                        <input type = \"text\" className = \"form-control\" id = \"email\" \n                            onChange = { event => emailChangeHandle(event.target.value) } required/>\n                        { emailError ? <div className = \"item\"> <p style = {{ color : \"red\" }}>Email format error</p> </div> : <div></div> }\n                    </div>\n                </div>\n\n                <div className = \"form-row\">\n                    <div className = \"form-group\">\n                        <label htmlFor = \"password\">密碼 <span style = {{ color : \"red\" }}>*</span></label>\n                        <input type = \"password\" className = \"form-control\" id = \"password\" \n                            onChange = { event => passwordChangeHandle(event.target.value) }/>\n                        <div className = \"form-text\">密碼長度至少6個字元 最多不超過15個</div>\n                        <div className = \"form-text\">密碼必須包含至少一個大寫及小寫</div>\n                        { passwordError ? <div className = \"item\"> <p style = {{ color : \"red\" }}>密碼格式錯誤</p> </div> : <div></div> }\n                    </div>\n                </div>\n\n                <div className = \"form-row\">\n                    <div className = \"form-group\">\n                        <label htmlFor = \"confirmPassword\">確認密碼 <span style = {{ color : \"red\" }}>*</span></label>\n                        <input type = \"password\" className = \"form-control\" id = \"confirmPassword\" \n                            onChange = { event => confirmPasswordChangeHandle(event.target.value) }/>\n                        { confirmpasswordError ? <div className = \"item\"> <p style = {{ color : \"red\" }}>密碼及確認密碼不相同</p> </div> : <div></div> }\n                    </div>\n                </div>\n\n                <div className = \"d-grid py-3\">\n                    {\n                        emailError === false && \n                        passwordError === false && \n                        confirmpasswordError === false && \n                        nameError === false && \n                        usernameError === false && \n                        name !== \"\" && \n                        username !== \"\" && \n                        email !== \"\" && \n                        password !== \"\" && \n                        confirmPassword !== \"\" ? \n                        <button type = \"submit\" className = \"btn btn-primary\">註冊</button> : \n                        <button type = \"submit\" className = \"btn btn-primary\" disabled>註冊</button>\n                    }\n                    { result[\"success\"] ? <Alert severity=\"success\">註冊成功!</Alert> : <></>}\n                    { result[\"failure\"] ? <Alert severity=\"success\">註冊成功!</Alert> : <></>}\n                </div>\n            </form>\n        </>\n    );\n}\n\nexport default RegisterItem;"]},"metadata":{},"sourceType":"module"}