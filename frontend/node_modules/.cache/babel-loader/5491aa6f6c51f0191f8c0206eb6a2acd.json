{"ast":null,"code":"import _slicedToArray from \"/home/cosbi/financialSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/cosbi/financialSite/frontend/src/component/chooseTickerPage/chooseTikcerComp.js\";\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { rootApiIP } from '../../constant';\nimport { tickerList } from '../../tickerList';\n\nfunction ChooseTickerComp() {\n  var _useState = useState(tickerList.tickerList[0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tickerClass = _useState2[0],\n      setTickerClass = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      classChoose = _useState4[0],\n      setClassChoose = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ticker = _useState6[0],\n      setTicker = _useState6[1];\n\n  function submit(e) {\n    e.preventDefault();\n  }\n\n  var handleTickerClass = function handleTickerClass(e) {\n    setClassChoose(true);\n    setTickerClass(e.target.value);\n    axios.post(rootApiIP + \"/data/choose_ticker\", {\n      \"class\": e.target.value\n    }).then(function (res) {\n      setTicker(res.data);\n      setClassChoose(false);\n    }).catch(function (res) {\n      if (res.response.data === \"Session expired\") window.location.reload();\n    });\n  };\n\n  var handleTicker = function handleTicker(e) {\n    setTicker(e.target.value);\n    console.lo;\n  };\n\n  useEffect(function () {\n    axios.post(rootApiIP + \"/data/choose_ticker\", {\n      \"class\": tickerClass\n    }).then(function (res) {\n      setTicker(res.data);\n      setClassChoose(false);\n    }).catch(function (res) {\n      if (res.response.data === \"Session expired\") window.location.reload();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mx-auto py-3\",\n    style: {\n      width: \"50vw\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"display-6 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"\\u9078\\u80A1\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ticker_class\",\n    className: \"col-md-3 col-form-label text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, \"\\u7522\\u696D\\u985E\\u5225:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-select\",\n    id: \"ticker_class\",\n    onChange: function onChange(e) {\n      return handleTickerClass(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }, tickerList.tickerList.map(function (ele, i) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: i,\n      value: ele,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 48\n      }\n    }, ele);\n  }))), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"ticker\",\n    className: \"col-md-3 col-form-label text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, \"\\u80A1\\u7968\\u540D\\u7A31&\\u516C\\u53F8:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-select\",\n    id: \"ticker\",\n    onChange: function onChange(e) {\n      return handleTicker(e);\n    },\n    disabled: classChoose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, ticker.map(function (ele, i) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: i,\n      value: ele.ticker,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 48\n      }\n    }, ele.ticker);\n  })))))));\n}\n\nexport default ChooseTickerComp;","map":{"version":3,"sources":["/home/cosbi/financialSite/frontend/src/component/chooseTickerPage/chooseTikcerComp.js"],"names":["axios","React","useEffect","useState","rootApiIP","tickerList","ChooseTickerComp","tickerClass","setTickerClass","classChoose","setClassChoose","ticker","setTicker","submit","e","preventDefault","handleTickerClass","target","value","post","then","res","data","catch","response","window","location","reload","handleTicker","console","lo","width","map","ele","i"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { rootApiIP } from '../../constant';\nimport { tickerList } from '../../tickerList';\n\nfunction ChooseTickerComp() {\n    const [tickerClass, setTickerClass] = useState(tickerList.tickerList[0])\n    const [classChoose, setClassChoose] = useState(true)\n    const [ticker, setTicker] = useState([])\n\n    function submit(e){\n        e.preventDefault()\n    }\n\n    const handleTickerClass = (e) => {\n        setClassChoose(true)\n        setTickerClass(e.target.value)\n\n        axios.post(rootApiIP + \"/data/choose_ticker\", {\n            \"class\" : e.target.value\n        })\n        .then((res) => {\n            setTicker(res.data)\n            setClassChoose(false)\n        })\n        .catch((res) => {\n            if(res.response.data === \"Session expired\") window.location.reload()\n        })\n    }\n\n    const handleTicker = (e) => {\n        setTicker(e.target.value)\n        console.lo\n    }\n\n    useEffect(() => {\n        axios.post(rootApiIP + \"/data/choose_ticker\", {\n            \"class\" : tickerClass\n        })\n        .then((res) => {\n            setTicker(res.data)\n            setClassChoose(false)\n        })\n        .catch((res) => {\n            if(res.response.data === \"Session expired\") window.location.reload()\n        })\n    }, [])\n\n    return (\n        <>\n            <div className = 'row mx-auto py-3' style = {{ width : \"50vw\" }}>\n                <h3 className = \"display-6 text-center\">選股</h3>\n                \n                <form onSubmit = { submit }>\n                    <div className = 'form-group row'>\n                        <label htmlFor = \"ticker_class\" className = \"col-md-3 col-form-label text-center\">產業類別:</label>\n                        <div className = 'col-md-3'>\n                            <select className = \"form-select\" id = \"ticker_class\" onChange = {e => handleTickerClass(e)}>\n                                {\n                                    tickerList.tickerList.map(function(ele, i){\n                                        return <option key = { i } value = { ele }>{ ele }</option>\n                                    })\n                                }\n                            </select>\n                        </div>\n\n                        <label htmlFor = \"ticker\" className = \"col-md-3 col-form-label text-center\">股票名稱&公司:</label>\n                        <div className = 'col-md-3'>\n                            <select className = \"form-select\" id = \"ticker\" onChange = {e => handleTicker(e)} disabled = { classChoose }>\n                                {\n                                    ticker.map(function(ele, i){\n                                        return <option key = { i } value = { ele.ticker }>{ ele.ticker }</option>\n                                    })\n                                }\n                            </select>\n                        </div>\n                    </div>\n\n                </form> \n            </div>\n        </>\n    );\n}\n\nexport default ChooseTickerComp;"]},"metadata":{},"sourceType":"module"}