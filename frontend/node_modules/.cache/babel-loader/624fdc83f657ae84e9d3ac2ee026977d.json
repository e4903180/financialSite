{"ast":null,"code":"import _slicedToArray from \"/home/cosbi/financialSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/cosbi/financialSite/frontend/src/component/homePage/popularTicker.js\";\nimport { Backdrop } from '@mui/material';\nimport { DataGrid, GridToolbar } from '@mui/x-data-grid';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { config } from '../../constant';\nimport { columns_financialData, columns_news, columns_popular_ticker } from '../column/column';\nimport { StripedDataGrid } from '../stripedDataGrid/stripedDataGrid';\n\nfunction PopularTicker() {\n  var _useState = useState(5),\n      _useState2 = _slicedToArray(_useState, 2),\n      pageSize = _useState2[0],\n      setPageSize = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      detailData = _useState6[0],\n      setDetailData = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      pageDetail = _useState10[0],\n      setPageDetail = _useState10[1];\n\n  var _useState11 = useState(10),\n      _useState12 = _slicedToArray(_useState11, 2),\n      pageSizeDetail = _useState12[0],\n      setPageSizeDetail = _useState12[1];\n\n  var _useState13 = useState(\"financialData\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      type = _useState14[0],\n      setType = _useState14[1];\n\n  useEffect(function () {\n    axios.get(config[\"rootApiIP\"] + \"/data/popular_ticker\").then(function (res) {\n      setData(res.data);\n    }).catch(function (res) {\n      if (res.response.data === \"Session expired\") window.location.reload();\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 mx-auto py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"display-6 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, \"\\u4E00\\u9031\\u5167\\u71B1\\u9580\\u500B\\u80A1Top5\"), /*#__PURE__*/React.createElement(StripedDataGrid, {\n    columns: columns_popular_ticker(setLoading, setType, setPageDetail),\n    rows: data,\n    pageSize: pageSize,\n    onPageSizeChange: function onPageSizeChange(newPageSize) {\n      return setPageSize(newPageSize);\n    },\n    rowsPerPageOptions: [5],\n    getRowId: function getRowId(row) {\n      return row.stock_num;\n    },\n    pagination: true,\n    autoHeight: true,\n    disableColumnMenu: true,\n    disableColumnSelector: true,\n    disableDensitySelector: true,\n    disableColumnFilter: true,\n    disableSelectionOnClick: true,\n    getRowClassName: function getRowClassName(params) {\n      return params.indexRelativeToCurrentPage % 2 === 0 ? 'even' : 'odd';\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Backdrop, {\n    sx: {\n      zIndex: function zIndex(theme) {\n        return theme.zIndex.drawer + 1;\n      }\n    },\n    open: loading,\n    onClick: function onClick() {\n      return setLoading(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, type === \"financialData\" && /*#__PURE__*/React.createElement(DataGrid, {\n    columns: columns_financialData,\n    rows: data[\"financialData\"],\n    page: pageDetail,\n    onPageChange: function onPageChange(newPage) {\n      return setPageDetail(newPage);\n    },\n    pageSize: pageSizeDetail,\n    onPageSizeChange: function onPageSizeChange(newPageSize) {\n      return setPageSizeDetail(newPageSize);\n    },\n    rowsPerPageOptions: [5, 10, 20],\n    getRowId: function getRowId(row) {\n      return row.ID;\n    },\n    components: {\n      Toolbar: GridToolbar\n    },\n    componentsProps: {\n      toolbar: {\n        showQuickFilter: true\n      }\n    },\n    pagination: true,\n    disableColumnMenu: true,\n    disableColumnSelector: true,\n    disableDensitySelector: true,\n    disableColumnFilter: true,\n    disableSelectionOnClick: true,\n    autoHeight: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }), type === \"news\" && /*#__PURE__*/React.createElement(DataGrid, {\n    columns: columns_news(data[\"stock_name\"]),\n    rows: data[\"news\"],\n    page: pageDetail,\n    onPageChange: function onPageChange(newPage) {\n      return setPageDetail(newPage);\n    },\n    pageSize: pageSizeDetail,\n    onPageSizeChange: function onPageSizeChange(newPageSize) {\n      return setPageSizeDetail(newPageSize);\n    },\n    rowsPerPageOptions: [5, 10, 20],\n    getRowId: function getRowId(row) {\n      return row.ID;\n    },\n    components: {\n      Toolbar: GridToolbar\n    },\n    componentsProps: {\n      toolbar: {\n        showQuickFilter: true\n      }\n    },\n    pagination: true,\n    disableColumnMenu: true,\n    disableColumnSelector: true,\n    disableDensitySelector: true,\n    disableColumnFilter: true,\n    disableSelectionOnClick: true,\n    autoHeight: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  })))));\n}\n\nexport default PopularTicker;","map":{"version":3,"sources":["/home/cosbi/financialSite/frontend/src/component/homePage/popularTicker.js"],"names":["Backdrop","DataGrid","GridToolbar","axios","React","useEffect","useState","config","columns_financialData","columns_news","columns_popular_ticker","StripedDataGrid","PopularTicker","pageSize","setPageSize","data","setData","detailData","setDetailData","loading","setLoading","pageDetail","setPageDetail","pageSizeDetail","setPageSizeDetail","type","setType","get","then","res","catch","response","window","location","reload","newPageSize","row","stock_num","params","indexRelativeToCurrentPage","zIndex","theme","drawer","newPage","ID","Toolbar","toolbar","showQuickFilter"],"mappings":"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","sourcesContent":["import { Backdrop } from '@mui/material';\nimport { DataGrid, GridToolbar } from '@mui/x-data-grid';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { config } from '../../constant';\nimport { columns_financialData, columns_news, columns_popular_ticker } from '../column/column';\nimport { StripedDataGrid } from '../stripedDataGrid/stripedDataGrid';\n\nfunction PopularTicker() {\n    const [pageSize, setPageSize] = useState(5)\n    const [data, setData] = useState([])\n    const [detailData, setDetailData] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [pageDetail, setPageDetail] = useState(0)\n    const [pageSizeDetail, setPageSizeDetail] = useState(10)\n    const [type, setType] = useState(\"financialData\")\n\n    useEffect(() => {\n        axios.get(config[\"rootApiIP\"] + \"/data/popular_ticker\")\n        .then(res => {\n            setData(res.data)\n        }).catch(res => {\n            if(res.response.data === \"Session expired\") window.location.reload()\n        })\n    }, [])\n\n    return (\n        <>\n            <div className = 'row mx-auto'>\n                <div className = 'col-md-6 mx-auto py-3'>\n                    <h3 className = \"display-6 text-center\">一週內熱門個股Top5</h3>\n\n                    <StripedDataGrid\n                        columns = { columns_popular_ticker(setLoading, setType, setPageDetail) }\n                        rows = { data }\n                        pageSize = { pageSize }\n                        onPageSizeChange = { (newPageSize) => setPageSize(newPageSize) }\n                        rowsPerPageOptions = {[5]}\n                        getRowId = { row => row.stock_num }\n                        pagination\n                        autoHeight\n                        disableColumnMenu\n                        disableColumnSelector\n                        disableDensitySelector\n                        disableColumnFilter\n                        disableSelectionOnClick = { true }\n                        getRowClassName={(params) =>\n                            params.indexRelativeToCurrentPage % 2 === 0 ? 'even' : 'odd'\n                        }\n                    />\n                </div>\n            </div>\n\n            <Backdrop\n                sx = {{ zIndex: (theme) => theme.zIndex.drawer + 1 }}\n                open = { loading }\n                onClick = {() => setLoading(false)}\n            >\n                <div className = 'row mx-auto'>\n                    <div className = 'col-md-8 mx-auto'>\n                        { type === \"financialData\" && \n                        <DataGrid\n                            columns = { columns_financialData }\n                            rows = { data[\"financialData\"] }\n                            page = { pageDetail }\n                            onPageChange = {(newPage) => setPageDetail(newPage)}\n                            pageSize = { pageSizeDetail }\n                            onPageSizeChange = { (newPageSize) => setPageSizeDetail(newPageSize) }\n                            rowsPerPageOptions = {[5, 10, 20]}\n                            getRowId = { row => row.ID }\n                            components = {{ Toolbar: GridToolbar }}\n                            componentsProps = {{ toolbar: { showQuickFilter: true },}}\n                            pagination\n                            disableColumnMenu\n                            disableColumnSelector\n                            disableDensitySelector\n                            disableColumnFilter\n                            disableSelectionOnClick = { true }\n                            autoHeight\n                        />}\n\n                        { type === \"news\" && \n                            <DataGrid\n                                columns = { columns_news(data[\"stock_name\"]) }\n                                rows = { data[\"news\"] }\n                                page = { pageDetail }\n                                onPageChange = {(newPage) => setPageDetail(newPage)}\n                                pageSize = { pageSizeDetail }\n                                onPageSizeChange = { (newPageSize) => setPageSizeDetail(newPageSize) }\n                                rowsPerPageOptions = {[5, 10, 20]}\n                                getRowId = { row => row.ID }\n                                components = {{ Toolbar: GridToolbar }}\n                                componentsProps = {{ toolbar: { showQuickFilter: true },}}\n                                pagination\n                                disableColumnMenu\n                                disableColumnSelector\n                                disableDensitySelector\n                                disableColumnFilter\n                                disableSelectionOnClick = { true }\n                                autoHeight\n                            />}\n                    </div>\n                </div>\n            </Backdrop>\n        </>\n    );\n}\n\nexport default PopularTicker;"]},"metadata":{},"sourceType":"module"}