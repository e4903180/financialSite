{"ast":null,"code":"import _slicedToArray from \"/home/cosbi/financialSite/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/cosbi/financialSite/frontend/src/component/navbar/notifyCardComp.js\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport CheckIcon from '@mui/icons-material/Check';\nimport { IconButton, Tooltip } from '@mui/material';\nimport axios from 'axios';\nimport { rootApiIP } from '../../constant';\n\nfunction NotifyCardComp(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hover = _useState2[0],\n      setHover = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      read = _useState4[0],\n      setRead = _useState4[1];\n\n  var handleUnreadClick = useCallback(function (e, time) {\n    e.preventDefault();\n    axios.patch(rootApiIP + \"/data/notify_handle_read\", {\n      time: time\n    }).then(function (res) {\n      setRead(true);\n    }).catch(function (res) {\n      if (res.response.data === \"Session expired\") window.location.reload();\n    });\n  }, []);\n  var handleReadClick = useCallback(function (e, time) {\n    e.preventDefault();\n    axios.patch(rootApiIP + \"/data/notify_handle_unread\", {\n      time: time\n    }).then(function (res) {\n      setRead(false);\n    }).catch(function (res) {\n      if (res.response.data === \"Session expired\") window.location.reload();\n    });\n  }, []);\n  useEffect(function () {\n    setRead(props.read);\n  }, [props.read]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card border-0\",\n    style: {\n      cursor: \"pointer\",\n      opacity: hover ? 0.7 : 1,\n      color: read ? \"gray\" : \"black\"\n    },\n    onMouseEnter: function onMouseEnter() {\n      return setHover(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHover(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mx-auto\",\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, \"\\u7CFB\\u7D71\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, props.message), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-subtitle text-muted\",\n    style: {\n      fontSize: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, props.time))), hover && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2 offset-md-10 d-flex align-items-center text-center\",\n    style: {\n      position: \"absolute\",\n      zindex: 100,\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, read ? /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"\\u6A19\\u793A\\u70BA\\u672A\\u8B80\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-wrapper\",\n    onClick: function onClick(e) {\n      return handleUnreadClick(e, props.time);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(CheckIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 41\n    }\n  })))) : /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"\\u6A19\\u793A\\u70BA\\u5DF2\\u8B80\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"icon-wrapper\",\n    onClick: function onClick(e) {\n      return handleReadClick(e, props.time);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(CheckIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 41\n    }\n  })))))));\n}\n\nexport default NotifyCardComp;","map":{"version":3,"sources":["/home/cosbi/financialSite/frontend/src/component/navbar/notifyCardComp.js"],"names":["React","useCallback","useEffect","useState","CheckIcon","IconButton","Tooltip","axios","rootApiIP","NotifyCardComp","props","hover","setHover","read","setRead","handleUnreadClick","e","time","preventDefault","patch","then","res","catch","response","data","window","location","reload","handleReadClick","cursor","opacity","color","width","message","fontSize","position","zindex","height"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport CheckIcon from '@mui/icons-material/Check';\nimport { IconButton, Tooltip } from '@mui/material';\nimport axios from 'axios';\nimport { rootApiIP } from '../../constant';\n\nfunction NotifyCardComp(props) {\n    const [hover, setHover] = useState(false)\n    const [read, setRead] = useState(0)\n\n    const handleUnreadClick = useCallback((e, time) => {\n        e.preventDefault()\n\n        axios.patch(rootApiIP + \"/data/notify_handle_read\", {\n            time : time\n        })\n        .then((res) => {\n            setRead(true)\n        })\n        .catch((res) => {\n            if(res.response.data === \"Session expired\") window.location.reload()\n        })\n    }, [])\n\n    const handleReadClick = useCallback((e, time) => {\n        e.preventDefault()\n\n        axios.patch(rootApiIP + \"/data/notify_handle_unread\", {\n            time : time\n        })\n        .then((res) => {\n            setRead(false)\n        })\n        .catch((res) => {\n            if(res.response.data === \"Session expired\") window.location.reload()\n        })\n    }, [])\n\n    useEffect(() => {\n        setRead(props.read)\n    }, [props.read])\n\n    return (\n        <div className = 'card border-0' style = {{ cursor : \"pointer\", opacity : hover ? 0.7 : 1, color : read ? \"gray\" : \"black\" }} onMouseEnter = { () => setHover(true) } onMouseLeave = { () => setHover(false) }>\n            <div className = 'row mx-auto' style = {{ width : \"100%\" }}>\n                <div className = 'col-md-4'>\n                    <div className = 'card-body text-center'>\n                        <h5 className = 'card-title'>系統</h5>\n                    </div>\n                </div>\n\n                <div className = 'col-md-8'>\n                    <div className = 'card-body'>\n                        <h6 className = \"card-text\">{props.message}</h6>\n                        <p className = \"card-subtitle text-muted\" style = {{ fontSize : \"10px\" }}>{props.time}</p>\n                    </div>\n                </div>\n\n                { hover && \n                    <div className = 'col-md-2 offset-md-10 d-flex align-items-center text-center' style = {{ position : \"absolute\", zindex : 100, height : \"100%\" }}>\n                        { read ? \n                            <Tooltip title = \"標示為未讀\">\n                                <div className = \"icon-wrapper\" onClick = { (e) => handleUnreadClick(e, props.time) }>\n                                    <IconButton>\n                                        <CheckIcon/>\n                                    </IconButton>\n                                </div>\n                            </Tooltip>\n                            :\n                            <Tooltip title = \"標示為已讀\">\n                                <div className = \"icon-wrapper\" onClick = { (e) => handleReadClick(e, props.time) }>\n                                    <IconButton>\n                                        <CheckIcon/>\n                                    </IconButton>\n                                </div>\n                            </Tooltip>\n                        }\n                    </div> \n                }\n            </div>\n        </div>\n    );\n}\n\nexport default NotifyCardComp;"]},"metadata":{},"sourceType":"module"}